---
- summary: |
    1. Авторизация через аккаунт Github
  requirement: |
    Пользователь может авторизоваться на сайте через аккаунт Github
  prerequisites: |
    открыта страница https://codebattle.hexlet.io/
    есть аккаунт на github.com
  test-data: |
    empty
  steps:
    - Кликаем на кнопку "Sign up"
    - Кликаем на кнопку "Sign in with Github"
    - После перенаправления на страницу github.com кликнуть на кнопку "Authorize
      vtm9"
  expected-result: >
    Пользователь должен попасть на главную страницу codebattle,
    справа вверху отображается имя пользователя
- summary: |
    2. Авторизация через аккаунт Discord
  requirement: |
    Пользователь может авторизоваться на сайте через аккаунт Discord
  prerequisites: |
    открыта страница https://codebattle.hexlet.io/
    есть аккаунт на Discord.com
  test-data: |
    empty
  steps:
    - Кликаем на кнопку "Sign up"
    - Кликаем на кнопку "Sign in with Discord"
    - После перенаправления на страницу Discord.com вводим логи и пароль от
      аккаунта Discord
    - Кликаем на кнопку "Вход"
  expected-result: >
    Пользователь должен попасть на главную страницу codebattle,
    справа вверху отображается имя пользователя
- summary: |
    3. Создание аккаунта через Email
  requirement: |
    Пользователь может создать аккаунт, указав Email и пароль
  prerequisites: открыта страница https://codebattle.hexlet.io/
  test-data: |
    - Nickname = vladimer
    - Email = vladimergayer1992@gmail.com
    - Password = 191982
  steps:
    - Кликаем на кнопку "Sign up"
    - Вводим Nickname
    - Вводим Email
    - Вводим Password
    - Вводим Password повторно
    - Нажимаем кнопку "Submit"
  expected-result: >
    Пользователь должен попасть на главную страницу справа вверху
    отображается имя пользователя
- summary: |
    4. Проверка входа пользователя через логин и пароль
  requirement: >
    Пользователь может успешно войти в аккаунт с зарегистрированным
    Email и паролем
  prerequisites: открыта страница https://codebattle.hexlet.io/ Создан аккаунт с
    данными Email = badpass@mail.com, Password = strongPassword
  test-data: |
    - Email = vladimergayer1992@gmail.com
    - Password = 191982
  steps:
    - Кликаем на кнопку "Sign in"
    - Вводим Email
    - Вводим Password
    - Нажимаем кнопку "Submit"
  expected-result: >
    Пользователь должен попасть на главную страницу, справа вверху
    отображается имя пользователя
- summary: |
    5. Проверка входа пользователя с незарегистрированным Email
  requirement: |
    При неправильном Email пользователь должен получить сообщение об ошибке
  prerequisites: открыта страница https://codebattle.hexlet.io/
  test-data: |
    - Email = vladimergayer1992@gmail.com
    - Password = 191982
  steps:
    - Кликаем на кнопку "Sign in"
    - Вводим Email
    - Вводим Password
    - Нажимаем кнопку "Submit"
  expected-result: >
    Выводится сообщение об ошибке "EMAIL_NOT_FOUND", вход в аккаунт не произведен
- summary: |
    6. Проверка входа пользователя с верным Email и неверным паролем
  requirement: |
    При неправильном пароле пользователь должен получить сообщение об ошибке
  prerequisites: открыта страница https://codebattle.hexlet.io/ Создан аккаунт с
    данными Email = badpass@mail.com, Password = strongPassword
  test-data: |
    - Email = vladimergayer1992@gmail.com
    - Password = 191982
  steps:
    - Кликаем на кнопку "Sign in"
    - Вводим Email
    - Вводим Password
    - Нажимаем кнопку "Submit"
  expected-result: >
    Выводится сообщение об ошибке "INVALID_PASSWORD", вход в
    аккаунт не произведен
- summary: |
    7. Добавление к существующему аккаунту авторизации через Github
  requirement: >
    Пользователь может добавить аккаунту к зарегистрированному аккаунту, способ
    авторизации через Github
  prerequisites: открыта страница настроек https://codebattle.hexlet.io/settings
    Создан аккаунт с данными Email = vladimergayer1992@gmail.com, Password =
    191982 и произведен в него вход есть аккаунт на github.com
  test-data: |
    empty
  steps:
    - Кликаем на кнопку "Link Github"
    - После перенаправления на страницу github.com кликнуть на кнопку "Authorize
      vtm9"
  expected-result: >
    Пользователь перенаправлен обратно на страницу с настройками, в
    настройках появилась ссылка на авторизованный аккаунт github
- summary: |
    8. Добавление к существующему аккаунту авторизации через Discord
  requirement: >
    Пользователь может добавить к зарегистрированному аккаунту, способ
    авторизации через Discord
  prerequisites: открыта страница настроек https://codebattle.hexlet.io/settings
    Создан аккаунт с данными Email = vladimergayer1992@gmail.com, Password =
    191982 и произведен в него вход есть аккаунт на Discord.com
  test-data: |
    empty
  steps:
    - Кликаем на кнопку "Link Discord"
    - После перенаправления на страницу Discord.com вводим логи и пароль от
      аккаунта Discord
    - Кликаем на кнопку "Вход"
  expected-result: >
    Пользователь перенаправлен обратно на страницу с настройками, в
    настройках появилась ссылка на авторизованный аккаунт Discord
- summary: |
    9. Изменение nickname
  requirement: >
    Пользователь может изменить свой nickname на другой, не занятый
    другим пользователем
  prerequisites: произведен вход в аккаунт с данными Email =
    vladimergayer1992@gmail.com, Password = 191982 открыта страница настроек
    https://codebattle.hexlet.io/settings
  test-data: |
    Nickname = vladimer
  steps:
    - В поле "Your name" вводим Nickname
    - Кликаем на кнопку "Save"
    - Обновляем страницу
  expected-result: |
    Имя пользователя изменено и отображается справа вверху страницы
- summary: |
    10. Восстановление пароля
  requirement: |
    Пользователь может восстановить пароль
  prerequisites: создан аккаунт с данными Email = vladimergayer1992@gmail.com,
    Password = 191982 открыта страница https://codebattle.hexlet.io/ вход в
    аккаунт не произведен
  test-data: |
    Password = newPass
    Email = vladimergayer1992@gmail.com
  steps:
    - Кликнуть на кнопку "Sign in"
    - Кликнуть на кнопку "Forgot your password?"
    - В поле "Email" ввести Email
    - Кликнуть на кнопку "Submit" (на почту будет отправлено письмо со ссылкой
      для изменения пароля)
    - Открыть письмо от noreply@codebattle-5f929.firebaseapp.com
    - Кликнуть на ссылку из письма
    - В поле "new password" ввести Password и кликнуть на "Submit"
    - Вернуться на страницу codebattle и кликнуть на "sign in"
    - Ввести Email и Password
  expected-result: |
    Произойдет вход в аккаунт
- summary: |
    11. Подключиться к уже созданной игре
  requirement: |
    Пользователь может подкоючиться к уже созданной игре
  prerequisites: из другого аккаунта создана игра, к которой можно подключиться
    открыта главная страница https://codebattle.hexlet.io произведен вход в
    тестируемый аккаунт
  test-data: |
    empty
  steps:
    - В списке игр на главное странице выбираем созданную для теста игру и
      кликаем на "fight"
  expected-result: |
    Произойдет подключение к игре
- summary: |
    12. Изменение звукового сопровождения
  requirement: >
    Пользователь может изменить звуковое сопровождение и выбрать один
    из 4 вариантов: Dendy, CS, Standart, Silent
  prerequisites: произведён вход в аккаунт открыта страница
    https://codebattle.hexlet.io/settings
  test-data: |
    Новое звуковое сопровождение = CS
  steps:
    - Кликнуть на кнопку "CS"
    - Кликнуть на кнопку "Save"
    - Подключиться к любой игре
    - Проверить, изменилось ли звуковое сопровождение на новое
  expected-result: |
    В игре будет новое звуковое сопровождение
- summary: |
    13. Изменение уровня громкости звукового сопровождения
  requirement: |
    Пользователь может изменить уровень громкости звукового сопровождения
  prerequisites: произведен вход в аккаунт открыта страница
    https://codebattle.hexlet.io/settings
  test-data: |
    empty
  steps:
    - Перетянуть бегунок громкости до конца вправо до максимального значения
    - Кликнуть на кнопку "Save"
    - Подключиться к любой игре
    - Проверить, увеличилась ли громкость звукового сопровождения
    - Перейти в настройки
    - Перетянуть бегунок громкости до конца влево до минимального значения
    - Кликнуть на кнопку "Save"
    - Подключиться к любой игре
    - Проверить, уменьшилась ли громкость звукового сопровождения
  expected-result: |
    Громкость будет увеличиваться и уменьшаться в соответствии с настройкой,
    но после перезагруски ползунок встаёт на середину
- summary: |
    14. Наличие личного кабинета
  requirement: >
    Пользователь может перейти в свой личный кабинет, где будет
    отображена его статистика
  prerequisites: произведен вход в аккаунт с данными Email =
    vladimergayer1992@gmail.com, Password = 191982 открыта главная страница
    https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Кликаем на никнейм справа вверху страницы
    - В выпадающем меню кликаем на "My Profile"
    - Проверяем наличие раздела с завершенными играми, рейтинга пользователя и
      активности на сайте
  expected-result: >
    В личном кабинете должны отображаться раздел с завершенными
    играми, рейтинг пользователя и активность на сайте
- summary: |
    15. Смена фотографии пользователя
  requirement: |
    Пользователь может изменить фото своего профиля
  prerequisites: произведен вход в аккаунт с данными Email =
    vladimergayer1992@gmail.com, Password = 191982 открыта главная страница
    https://codebattle.hexlet.io
  test-data: |
    empty
  steps:
    - Кликаем на никнейм справа вверху страницы
    - В выпадающем меню кликаем на "Settings"
    - Кликаем на фотографию профиля
    - Добавляем новое фото пользователь
    - Кликаем "Save"
  expected-result: |
    Фото профиля изменено на новое
- summary: |
    16. Игра с ботом без регистрации
  requirement: |
    Пользователь может играть с ботом без регистрации на сайте
  prerequisites: открыта главная страница https://codebattle.hexlet.io
  test-data: |
    empty
  steps:
    - Кликаем на "Try simple battle"
  expected-result: |
    Открылась игра с ботом
- summary: |
    17. Рейтинг игроков
  requirement: >
    На главной странице отображается рейтинг игроков за неделю, месяц и все время
  prerequisites: открыта главная страница https://codebattle.hexlet.io произведен
    вход в аккаунт
  test-data: |
    empty
  steps:
    - Кликаем на "All" в разделе "Leaderboard"
  expected-result: >
    Откроется рейтинг игроков за все время, отображается имя
    пользователя и суммарное количество очков. Так же при наведении курсора на
    имя пользователя отображается его статистика игре и награды.
- summary: |
    18. Выбор сложности игры
  requirement: |
    Пользователь может выбрать уровень сложности задания для игры
  prerequisites: открыта главная страница https://codebattle.hexlet.io произведен
    вход в аккаунт
  test-data: |
    empty
  steps:
    - Кликаем на "create a game"
    - Кликаем на 2 звезды в разделе "level"
    - Выбираем 1 задание из списка "Choose task by name or tags"
    - Записываем название этого задания
    - Возвращаемся на главную страницу
    - Переходим в раздел "tasks"
    - Проверяем, соответствует ли выбранное задание уровню сложности в 2 звезды
  expected-result: |
    задание соответствует выбранному уровню сложности
- summary: |
    19. Выбор языка программирования
  requirement: |
    Пользователь может выбрать язык программирования
  prerequisites: открыта главная страница https://codebattle.hexlet.io произведен
    вход в аккаунт
  test-data: |
    empty
  steps:
    - Переходим в раздел "settings"
    - В поле "your weapon" выбираем "Typescript"
    - Кликаем на "save"
    - Переходим в раздел "My Profile"
    - Проверяем отобразился ли выбранный язык в поле "lang:"
    - Создаем игру с ботом
    - Проверяем, что язык в игре соответствует выбранному
  expected-result: |
    в поле "Lang:" отобразился выбранный язык
    в игре с ботом язык тоже соответствует выбранному
- summary: |
    20. Смена языка во время игры
  requirement: |
    Пользователь может изменить язык программирования в процессе игры
  prerequisites: открыта главная страница https://codebattle.hexlet.io произведен
    вход в аккаунт создана и открыта игра с ботом
  test-data: |
    empty
  steps:
    - В поле с названием языка выбираем значение "Java 21"
    - Записываем что выведено в поле для ввода решения
    - В поле с названием языка выбираем значение "Python 3.12.2"
    - Сравниваем то, что было выведено при выборе "Python 3.12.2" и "Java 21"
  expected-result: |
    Записи не должны совпадать
- summary: |
    21. Выбор продолжительности игры
  requirement: |
    Пользователь может выбрать продолжительность игрового времени
  prerequisites: открыта главная страница https://codebattle.hexlet.io произведен
    вход в аккаунт
  test-data: |
    empty
  steps:
    - Кликаем на "create a game"
    - В "game type" выбираем "with a bot"
    - Передвигаем бегунок "time controle" до значения "40 min"
    - Кликаем на "create battle
    - Проверяем значение "timeout in"
  expected-result: |
    В поле "timeout in" начнется обратный отсчет времени от значения 00:40:00
- summary: |
    22. Создание приглашения для игры с другом
  requirement: >
    Пользователь может создать игру и пригласить в нее друга,
    зарегистрированного на Codebattle
  prerequisites: открыта главная страница https://codebattle.hexlet.io произведен
    вход в аккаунт
  test-data: |
    друг - ShushaAlex
  steps:
    - Кликаем на кнопку "create a game"
    - Выбираем опцию "with a friend"
    - В списке оппонентов выбираем нужного друга
    - Кликаем на кнопку "create invite"
  expected-result: >
    А правом верхнем углу отобразится уведомление, при наведении на
    него всплывет окно с текстом "you ivited ShushaAlex"
- summary: |
    23. Создание игры со случайным заданием
  requirement: |
    Пользователь может создать игру со случайным заданием
  prerequisites: открыта главная страница https://codebattle.hexlet.io произведен
    вход в аккаунт
  test-data: |
    empty
  steps:
    - Кликаем на "create a game"
    - В "game type" выбираем "with a bot"
    - Выбираем уровень сложности в одну звезду
    - Выставляем опцию "random task"
    - Кликаем на "create battle"
    - Записываем название задания
    - Кликаем на красный флаг, чтобы закончить игру
    - Повторно создаем игру с теми же параметрами
    - Сравниваем названия заданий
  expected-result: |
    Названия заданий не должны совпадать
- summary: |
    24. Создание игры с конкретным заданием 
  requirement: |
    Пользователь может при создании игры выбрать задание из списка доступных
  prerequisites: открыта главная страница https://codebattle.hexlet.io произведен
    вход в аккаунт
  test-data: |
    задание - additive_inverse
  steps:
    - Кликаем на "create a game"
    - В "game type" выбираем "with a bot"
    - Выбираем уровень сложности в одну звезду
    - Выбираем нужное задание
    - Кликаем на "create battle"
  expected-result: |
    Задание в игре должно соответствовать выбранному
- summary: |
    25. Пользователь может наблюдать за играми 
  requirement: |
    Пользователь может подключиться к игре в качестве зрителя
  prerequisites: открыта главная страница https://codebattle.hexlet.io произведен
    вход в аккаунт
  test-data: |
    empty
  steps:
    - Кликаем на "show" напротив любой из текущих игр
    - Пробуем ввести текст в редакторе
  expected-result: |
    Мы видим оба текстовых редактора, но текст невозможно ввести
- summary: |
    26. Комментирование в роли зрителя
  requirement: >
    Пользователь может оставлять комментарии в игре, к которой
    подключен в качестве зрителя
  prerequisites: открыта главная страница https://codebattle.hexlet.io/ произведен
    вход в аккаунт
  test-data: |
    текст - 'Всем, привет!'
  steps:
    - Кликаем на "show" напротив любой из текущих игр
    - В поле комментариев вводим текст
    - Нажимаем на кнопку "send"
  expected-result: |
    Комментарий отображается от имени пользователя
- summary: |
    27. Комментирование в роли участника игры
  requirement: >
    Пользователь может остовлять комментарии в игре, к которой
    подключен в качестве участника
  prerequisites: открыта главная страница https://codebattle.hexlet.io/ произведен
    вход в аккаунт
  test-data: |
    текст - 'Всем, привет!'
  steps:
    - Кликаем на "fight" напротив любой из текущих игр
    - В поле комментариев вводим текст
    - Нажимаем на кнопку "send"
  expected-result: |
    Комментарий отображается от имени пользователя
- summary: |
    28. Выигрыш
  requirement: |
    В случае правильного выполнения задания пользователь выигрывает
  prerequisites: открыта главная страница https://codebattle.hexlet.io/ произведен
    вход в аккаунт
  test-data: |
    задание - "rect_area"
    решение - "const _ = require("lodash");
    const R = require("rambda");
    const solution = (width, length) => {
    return width * length;};
    module.exports = solution;"
  steps:
    - Кликаем на "create a game"
    - В "game type" выбираем "with a bot"
    - Выбираем уровень сложности в одну звезду
    - Выбираем задание
    - Кликаем на "create battle"
    - В редакторе вводим решение
    - Кликаем на кнопку запуска кода
  expected-result: |
    После проверки решения будет выведен текст "Woohoo, you're Champion!!!!!"
- summary: |
    29. Ничья после окончания времени игры
  requirement: >
    В случае невыполнения задания в заданное игрой время, результатом
    игры будет ничья
  prerequisites: открыта главная страница https://codebattle.hexlet.io/ произведен
    вход в аккаунт
  test-data: |
    empty
  steps:
    - Кликаем на "create a game"
    - В "game type" выбираем "with a bot"
    - Выбираем уровень сложности в одну звезду
    - Выбираем минимальное время игры
    - Кликаем на "create battle"
    - Ждем пока игровое время кончится
  expected-result: >
    После окончания времени будет выаедено сообщение "Time is up.
    There are no winners in the game"
- summary: |
    30. Подтверждение e-mail при регистрации
  requirement: >
    При регистрации через e-mail, на него приходит письмо со ссылкой,
    чтобы подтвердить корректность введенного e-mail
  prerequisites: открыта страница https://codebattle.hexlet.io/
  test-data: |
    - Nickname = TestEmail
    - Email = alexandra.grigorchenko@gmail.com
    - Password = strongPassword
  steps:
    - Кликаем на кнопку "Sign up"
    - Вводим Nickname
    - Вводим Email
    - Вводим Password
    - Вводим Password повторно
    - Нажимаем кнопку "Submit"
    - Переходим по ссылке из письма, которое пришло на введенную почту
  expected-result: >
    На почту придет письмо со ссылкой для подтверждения e-mail,
    после перехода по ссылке регистрация завершена
- summary: |
    31. Изменение e-mail
  requirement: >
    Пользователь может изменит свой e-mail на другой, не занятый другим
    пользователем
  prerequisites: произведен вход в аккаунт с данными Email =
    vladimergayer1992@gmail.com, Password = 191982 открыта страница настроек
    https://codebattle.hexlet.io/settings
  test-data: |
    новый e-mail = vladimergayer.1992.@gmail.com
  steps:
    - Кликаем на кнопку "change e-mail"
    - В поле "new e-mail" вводим новый e-mail
    - Кликаем на кнопку "Save"
    - На введенную почту придет сообщение со ссылкой для подтверждения адреса
    - Переходим по ссылке из письма
  expected-result: |
    E-mail успешно изменен
- summary: |
    32. Принятие приглашения для игры с другом
  requirement: |
    Пользователь может принять приглашение на игру от другого пользователя
  prerequisites: из другого аккаунта отправлено приглашение для игры открыта
    главная страница https://codebattle.hexlet.io/ произведен вход в аккаунт
  test-data: |
    empty
  steps:
    - Наводим курсор на иконку скрещенных мечей со счетчиком уведомлений
    - Кликаем на "Accept"
  expected-result: |
    Произойдет переход в игру с пользователем, приславшим приглашение
- summary: |
    33. Проигрыш через опцию Give Up
  requirement: >
    Пользователь может сдаться и таким образом закончить игру отдав
    победу сопернику
  prerequisites: произведен вход в аккаунт создана игра с ботом
  test-data: |
    empty
  steps:
    - Кликаем на красный флажок
    - Во всплывающем окне кликаем на кнопку "Give up"
  expected-result: |
    Будет выведен текст "If you read this you've lost the game"
- summary: |
    34. Проигрыш сопернику
  requirement: |
    Если соперник выполнил задание быстрее пользователь проигрывает
  prerequisites: произведен вход в два аккаунта в разных браузерах
  test-data: |
    аккаунт 1 - Vladimer1992
    аккаунт 2 - Vladimer1992v2
    задание  -  rect_area
    решение  -  const  = require lodash;
    const R  =  require rambda;
    const solution = width, length => 
    return width * length;
    module.exports = solution;
  steps:
    - В аккаунте 1 создаем приглашение для игры с другом с нужным заданием
    - В аккаунте 2 принимаем приглашение на игру
    - В аккаунте 1 кликаем на кнопку запуска кода
    - В аккаунте 1 вводим в игровое поле верное решение
    - В аккаунте 1 кликаем на кнопку запуска кода
    - В аккаунте 1 кликаем на "create battle"
    - В аккаунте 1 в редакторе вводим решение
  expected-result: >
    После проверки решения в аккаунте 1 будет выведен текст
    "Woohoo, you're Champion!, а в аккаунте 2 выведен текст "If you read
    this you've lost the game"

- summary: |
    35. Авторизация на некорректный адрес электронной почты
  requirement: |
    Пользователь не можит авторизоваться на сайте с некорректным адресом электронной почты
  prerequisites: |
    открыта страница https://codebattle.hexlet.io/
  test-data: |
    empty
  steps:
    - Нажимаем кнопку "Sign up"
    - Ввести "Solovey12" в поле "Nickname"
    - Ввести "volchebnic@.ccf" в поле "Email"
    - Ввести "12334" в поле "Password"
    - Ввести "12334" во второе поле "Password"
    - Нажать кнопку "Submit"
  expected-result: |
    - Пользователь входит на некорректный адрес электронной почты

